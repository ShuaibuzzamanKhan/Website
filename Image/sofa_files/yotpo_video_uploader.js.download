!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);r(1),r(2);window.YotpoVideoUploader=window.YotpoVideoUploader||{},window.YotpoVideoUploader.KalturaUploader=function(){var e="//upload.kaltura.com/api_v3";function t(t,a,o,s,l){this.kalturaServerBase=l||e,this.file=t,this.appKey=o,this.source=s,this.kalturaSessionKey=a.ks,this.kalturaPartnerId=a.partner_id,this.kalturaMetadataProfileId=a.metadata_profile_id,this.uploadToken=null,this.resumeable=new window.YotpoVideoUploader.Resumable({chunkSize:1048576,simultaneousUploads:3,testChunks:!1,throttleProgressCallbacks:1,target:this.kalturaServerBase+"/service/uploadToken/action/upload",fileParameterName:"fileData"}),function(e){e.on("fileAdded",function(e){e.bootstrap(),function(e,t){var i=this,a="uploadToken:objectType=KalturaUploadToken&uploadToken:fileName="+encodeURIComponent(e)+"&uploadToken:fileSize="+t;n.call(i,"/service/uploadToken/action/add",a,function(e){if(!e.id)return r.call(i,i.file,e.message),!1;i.uploadToken=e.id,i.resumeable.opts.query=function(e,t){return{format:1,ks:i.kalturaSessionKey,uploadTokenId:i.uploadToken,resume:t.offset>0?1:0,resumeAt:t.startByte,finalChunk:t.offset+1===e.chunks.length?1:0}},i.resumeable.upload()})}.call(this,e.fileName,e.size),this.trigger("fileAdded",{file:e})}.bind(this)),e.on("fileProgress",function(e){this.trigger("progress",{percentage:Math.floor(100*e.progress())+"%",file:e})}.bind(this)),e.on("fileSuccess",function(e,t){this.trigger("complete",{file:e,submitCallback:i.bind(this,e.fileName)})}.bind(this)),e.on("fileError",r.bind(this))}.call(this,this.resumeable)}function r(e,t,r,n,i){this.trigger("error",{error:t,file:e,userName:r,userEmail:n,domainKey:i})}function n(e,t,r,n){var i=this.kalturaServerBase+e+"?clientTag=yotpo-upload-media&format=1&ks="+this.kalturaSessionKey+"&"+t,a=new XMLHttpRequest;a.responseType="json",a.onload=function(e){var t=e.target.response;r(t)},a.open("POST",i,!0),n?(a.setRequestHeader("Content-Type","application/json"),a.send(JSON.stringify(n))):a.send()}function i(e,t,i,o,s,l,u){var f=this,c="mediaEntry:name="+encodeURIComponent(e)+"&mediaEntry:mediaType=1&uploadTokenId="+f.uploadToken;c+="&mediaEntry:description="+t+"&mediaEntry:userId="+f.source+"&mediaEntry:referenceId="+f.appKey,n.call(f,"/service/media/action/addFromUploadedFile",c,function(e){e.id?(e.status={code:200},function(e,t,i,o,s){var l=this,u="partnerId="+l.kalturaPartnerId,f={metadataProfileId:l.kalturaMetadataProfileId,objectId:e,objectType:"1",xmlData:a({userName:t,userEmail:i,domainKeys:o,source:l.source,reviewCreationToken:s})};n.call(l,"/service/metadata_metadata/action/add",u,function(e){e.id||r.call(l,l.file,e.message,t,i,o)},f)}.call(f,e.id,i,o,s,l)):(e.status={code:500},r.call(f,f.file,e.message,i,o,s)),u(e)})}function a(e){var t="<metadata>";return Object.keys(e).forEach(function(r){r&&e[r]&&(t+=function(e,t){var r=(n=e,i=n.replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()}),i.charAt(0).toUpperCase()+i.slice(1));var n,i;return"<"+r+">"+t+"</"+r+">"}(r,e[r]))}),t+="</metadata>"}return t.prototype.Cancel=function(){this.resumeable.cancel()},t.prototype.upload=function(){this.resumeable.addFile(this.file)},t.prototype.on=function(e,t){YotpoVideoUploader.Event.on.call(this,e,t)},t.prototype.trigger=function(e,t){YotpoVideoUploader.Event.trigger.call(this,e,t)},t}()},function(e,t){var r;window.YotpoVideoUploader=window.YotpoVideoUploader||{},window.YotpoVideoUploader.Resumable=r=function(e){if(!(this instanceof r))return new r(e);if(this.version=1,this.support=!("undefined"==typeof File||"undefined"==typeof Blob||"undefined"==typeof FileList||!Blob.prototype.webkitSlice&&!Blob.prototype.mozSlice&&!Blob.prototype.slice),!this.support)return!1;var t=this;t.files=[],t.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,fileParameterName:"file",chunkNumberParameterName:"resumableChunkNumber",chunkSizeParameterName:"resumableChunkSize",currentChunkSizeParameterName:"resumableCurrentChunkSize",totalSizeParameterName:"resumableTotalSize",typeParameterName:"resumableType",identifierParameterName:"resumableIdentifier",fileNameParameterName:"resumableFilename",relativePathParameterName:"resumableRelativePath",totalChunksParameterName:"resumableTotalChunks",throttleProgressCallbacks:.5,query:{},headers:{},preprocess:null,method:"multipart",uploadMethod:"POST",testMethod:"GET",prioritizeFirstAndLastChunk:!1,target:"/",testTarget:null,parameterNamespace:"",testChunks:!0,generateUniqueIdentifier:null,getTarget:null,maxChunkRetries:100,chunkRetryInterval:void 0,permanentErrors:[400,404,415,500,501],maxFiles:void 0,withCredentials:!1,xhrTimeout:0,clearInput:!0,chunkFormat:"blob",maxFilesErrorCallback:function(e,r){var n=t.getOpt("maxFiles");alert("Please upload no more than "+n+" file"+(1===n?"":"s")+" at a time.")},minFileSize:1,minFileSizeErrorCallback:function(e,r){alert(e.fileName||e.name+" is too small, please upload files larger than "+n.formatSize(t.getOpt("minFileSize"))+".")},maxFileSize:void 0,maxFileSizeErrorCallback:function(e,r){alert(e.fileName||e.name+" is too large, please upload files less than "+n.formatSize(t.getOpt("maxFileSize"))+".")},fileType:[],fileTypeErrorCallback:function(e,r){alert(e.fileName||e.name+" has type not allowed, please upload files of type "+t.getOpt("fileType")+".")}},t.opts=e||{},t.getOpt=function(e){var t=this;if(e instanceof Array){var i={};return n.each(e,function(e){i[e]=t.getOpt(e)}),i}if(t instanceof c){if(void 0!==t.opts[e])return t.opts[e];t=t.fileObj}if(t instanceof f){if(void 0!==t.opts[e])return t.opts[e];t=t.resumableObj}if(t instanceof r)return void 0!==t.opts[e]?t.opts[e]:t.defaults[e]},t.events=[],t.on=function(e,r){t.events.push(e.toLowerCase(),r)},t.fire=function(){for(var e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);var n=e[0].toLowerCase();for(r=0;r<=t.events.length;r+=2)t.events[r]==n&&t.events[r+1].apply(t,e.slice(1)),"catchall"==t.events[r]&&t.events[r+1].apply(null,e);"fileerror"==n&&t.fire("error",e[2],e[1]),"fileprogress"==n&&t.fire("progress")};var n={stopEvent:function(e){e.stopPropagation(),e.preventDefault()},each:function(e,t){if(void 0!==e.length){for(var r=0;r<e.length;r++)if(!1===t(e[r]))return}else for(r in e)if(!1===t(r,e[r]))return},generateUniqueIdentifier:function(e,r){var n=t.getOpt("generateUniqueIdentifier");if("function"==typeof n)return n(e,r);var i=e.webkitRelativePath||e.fileName||e.name;return e.size+"-"+i.replace(/[^0-9a-zA-Z_-]/gim,"")},contains:function(e,t){var r=!1;return n.each(e,function(e){return e!=t||(r=!0,!1)}),r},formatSize:function(e){return e<1024?e+" bytes":e<1048576?(e/1024).toFixed(0)+" KB":e<1073741824?(e/1024/1024).toFixed(1)+" MB":(e/1024/1024/1024).toFixed(1)+" GB"},getTarget:function(e,r){var n=t.getOpt("target");if("test"===e&&t.getOpt("testTarget")&&(n="/"===t.getOpt("testTarget")?t.getOpt("target"):t.getOpt("testTarget")),"function"==typeof n)return n(r);var i=n.indexOf("?")<0?"?":"&";return n+i+r.join("&")}},i=function(e){n.stopEvent(e),e.dataTransfer&&e.dataTransfer.items?l(e.dataTransfer.items,e):e.dataTransfer&&e.dataTransfer.files&&l(e.dataTransfer.files,e)},a=function(e){e.preventDefault()};function o(e,t,r,n){var i;return e.isFile?e.file(function(e){e.relativePath=t+e.name,r.push(e),n()}):(e.isDirectory?i=e:e instanceof File&&r.push(e),"function"==typeof e.webkitGetAsEntry&&(i=e.webkitGetAsEntry()),i&&i.isDirectory?function(e,t,r,n){e.createReader().readEntries(function(e){if(!e.length)return n();s(e.map(function(e){return o.bind(null,e,t,r)}),n)})}(i,t+i.name+"/",r,n):("function"==typeof e.getAsFile&&((e=e.getAsFile()).relativePath=t+e.name,r.push(e)),void n()))}function s(e,t){if(!e||0===e.length)return t();e[0](function(){s(e.slice(1),t)})}function l(e,r){if(e.length){t.fire("beforeAdd");var n=[];s(Array.prototype.map.call(e,function(e){return o.bind(null,e,"",n)}),function(){n.length&&u(n,r)})}}var u=function(e,r){var i=0,a=t.getOpt(["maxFiles","minFileSize","maxFileSize","maxFilesErrorCallback","minFileSizeErrorCallback","maxFileSizeErrorCallback","fileType","fileTypeErrorCallback"]);if(void 0!==a.maxFiles&&a.maxFiles<e.length+t.files.length){if(1!==a.maxFiles||1!==t.files.length||1!==e.length)return a.maxFilesErrorCallback(e,i++),!1;t.removeFile(t.files[0])}var o=[],s=[],l=e.length,u=function(){if(!--l){if(!o.length&&!s.length)return;window.setTimeout(function(){t.fire("filesAdded",o,s)},0)}};n.each(e,function(e){var l=e.name;if(a.fileType.length>0){var c=!1;for(var p in a.fileType){var d="."+a.fileType[p];if(-1!==l.toLowerCase().indexOf(d.toLowerCase(),l.length-d.length)){c=!0;break}}if(!c)return a.fileTypeErrorCallback(e,i++),!1}if(void 0!==a.minFileSize&&e.size<a.minFileSize)return a.minFileSizeErrorCallback(e,i++),!1;if(void 0!==a.maxFileSize&&e.size>a.maxFileSize)return a.maxFileSizeErrorCallback(e,i++),!1;function h(n){t.getFromUniqueIdentifier(n)?s.push(e):function(){e.uniqueIdentifier=n;var i=new f(t,e,n);t.files.push(i),o.push(i),i.container=void 0!==r?r.srcElement:null,window.setTimeout(function(){t.fire("fileAdded",i,r)},0)}(),u()}var m=n.generateUniqueIdentifier(e,r);m&&"function"==typeof m.then?m.then(function(e){h(e)},function(){u()}):h(m)})};function f(e,t,r){var i=this;i.opts={},i.getOpt=e.getOpt,i._prevProgress=0,i.resumableObj=e,i.file=t,i.fileName=t.fileName||t.name,i.size=t.size,i.relativePath=t.relativePath||t.webkitRelativePath||i.fileName,i.uniqueIdentifier=r,i._pause=!1,i.container="";var a=void 0!==r,o=function(e,t){switch(e){case"progress":i.resumableObj.fire("fileProgress",i,t);break;case"error":i.abort(),a=!0,i.chunks=[],i.resumableObj.fire("fileError",i,t);break;case"success":if(a)return;i.resumableObj.fire("fileProgress",i),i.isComplete()&&i.resumableObj.fire("fileSuccess",i,t);break;case"retry":i.resumableObj.fire("fileRetry",i)}};return i.chunks=[],i.abort=function(){var e=0;n.each(i.chunks,function(t){"uploading"==t.status()&&(t.abort(),e++)}),e>0&&i.resumableObj.fire("fileProgress",i)},i.cancel=function(){var e=i.chunks;i.chunks=[],n.each(e,function(e){"uploading"==e.status()&&(e.abort(),i.resumableObj.uploadNextChunk())}),i.resumableObj.removeFile(i),i.resumableObj.fire("fileProgress",i)},i.retry=function(){i.bootstrap();var e=!1;i.resumableObj.on("chunkingComplete",function(){e||i.resumableObj.upload(),e=!0})},i.bootstrap=function(){i.abort(),a=!1,i.chunks=[],i._prevProgress=0;for(var e=i.getOpt("forceChunkSize")?Math.ceil:Math.floor,t=Math.max(e(i.file.size/i.getOpt("chunkSize")),1),r=0;r<t;r++)!function(e){window.setTimeout(function(){i.chunks.push(new c(i.resumableObj,i,e,o)),i.resumableObj.fire("chunkingProgress",i,e/t)},0)}(r);window.setTimeout(function(){i.resumableObj.fire("chunkingComplete",i)},0)},i.progress=function(){if(a)return 1;var e=0,t=!1;return n.each(i.chunks,function(r){"error"==r.status()&&(t=!0),e+=r.progress(!0)}),e=t?1:e>.99999?1:e,e=Math.max(i._prevProgress,e),i._prevProgress=e,e},i.isUploading=function(){var e=!1;return n.each(i.chunks,function(t){if("uploading"==t.status())return e=!0,!1}),e},i.successfulChunks=function(){var e=0;return n.each(i.chunks,function(t){"success"==t.status()&&e++}),e},i.isComplete=function(){var e=!1;return n.each(i.chunks,function(t){var r=t.status();if("pending"==r||"uploading"==r||1===t.preprocessState)return e=!0,!1}),!e},i.pause=function(e){i._pause=void 0===e?!i._pause:e},i.isPaused=function(){return i._pause},i.resumableObj.fire("chunkingStart",i),i.bootstrap(),this}function c(e,t,r,i){var a=this;a.opts={},a.getOpt=e.getOpt,a.resumableObj=e,a.fileObj=t,a.fileObjSize=t.size,a.fileObjType=t.file.type,a.offset=r,a.callback=i,a.lastProgressCallback=new Date,a.tested=!1,a.retries=0,a.pendingRetry=!1,a.preprocessState=0;var o=a.getOpt("chunkSize");return a.loaded=0,a.startByte=a.offset*o,a.endByte=Math.min(a.fileObjSize,(a.offset+1)*o),a.fileObjSize-a.endByte<o&&!a.getOpt("forceChunkSize")&&(a.endByte=a.fileObjSize),a.xhr=null,a.test=function(){a.xhr=new XMLHttpRequest;var e=function(e){a.tested=!0;var t=a.status();"success"==t?(a.callback(t,a.message()),a.resumableObj.uploadNextChunk()):a.send()};a.xhr.addEventListener("load",e,!1),a.xhr.addEventListener("error",e,!1),a.xhr.addEventListener("timeout",e,!1);var t=[],r=a.getOpt("parameterNamespace"),i=a.getOpt("query");"function"==typeof i&&(i=i(a.fileObj,a)),n.each(i,function(e,n){t.push([encodeURIComponent(r+e),encodeURIComponent(n)].join("="))}),t=t.concat([["chunkNumberParameterName",a.offset+1],["chunkSizeParameterName",a.getOpt("chunkSize")],["currentChunkSizeParameterName",a.endByte-a.startByte],["totalSizeParameterName",a.fileObjSize],["typeParameterName",a.fileObjType],["identifierParameterName",a.fileObj.uniqueIdentifier],["fileNameParameterName",a.fileObj.fileName],["relativePathParameterName",a.fileObj.relativePath],["totalChunksParameterName",a.fileObj.chunks.length]].filter(function(e){return a.getOpt(e[0])}).map(function(e){return[r+a.getOpt(e[0]),encodeURIComponent(e[1])].join("=")})),a.xhr.open(a.getOpt("testMethod"),n.getTarget("test",t)),a.xhr.timeout=a.getOpt("xhrTimeout"),a.xhr.withCredentials=a.getOpt("withCredentials");var o=a.getOpt("headers");"function"==typeof o&&(o=o(a.fileObj,a)),n.each(o,function(e,t){a.xhr.setRequestHeader(e,t)}),a.xhr.send(null)},a.preprocessFinished=function(){a.preprocessState=2,a.send()},a.send=function(){var e=a.getOpt("preprocess");if("function"==typeof e)switch(a.preprocessState){case 0:return a.preprocessState=1,void e(a);case 1:return}if(!a.getOpt("testChunks")||a.tested){a.xhr=new XMLHttpRequest,a.xhr.upload.addEventListener("progress",function(e){new Date-a.lastProgressCallback>1e3*a.getOpt("throttleProgressCallbacks")&&(a.callback("progress"),a.lastProgressCallback=new Date),a.loaded=e.loaded||0},!1),a.loaded=0,a.pendingRetry=!1,a.callback("progress");var t=function(e){var t=a.status();if("success"==t||"error"==t)a.callback(t,a.message()),a.resumableObj.uploadNextChunk();else{a.callback("retry",a.message()),a.abort(),a.retries++;var r=a.getOpt("chunkRetryInterval");void 0!==r?(a.pendingRetry=!0,setTimeout(a.send,r)):a.send()}};a.xhr.addEventListener("load",t,!1),a.xhr.addEventListener("error",t,!1),a.xhr.addEventListener("timeout",t,!1);var r=[["chunkNumberParameterName",a.offset+1],["chunkSizeParameterName",a.getOpt("chunkSize")],["currentChunkSizeParameterName",a.endByte-a.startByte],["totalSizeParameterName",a.fileObjSize],["typeParameterName",a.fileObjType],["identifierParameterName",a.fileObj.uniqueIdentifier],["fileNameParameterName",a.fileObj.fileName],["relativePathParameterName",a.fileObj.relativePath],["totalChunksParameterName",a.fileObj.chunks.length]].filter(function(e){return a.getOpt(e[0])}).reduce(function(e,t){return e[a.getOpt(t[0])]=t[1],e},{}),i=a.getOpt("query");"function"==typeof i&&(i=i(a.fileObj,a)),n.each(i,function(e,t){r[e]=t});var o=a.fileObj.file.slice?"slice":a.fileObj.file.mozSlice?"mozSlice":a.fileObj.file.webkitSlice?"webkitSlice":"slice",s=a.fileObj.file[o](a.startByte,a.endByte),l=null,u=[],f=a.getOpt("parameterNamespace");if("octet"===a.getOpt("method"))l=s,n.each(r,function(e,t){u.push([encodeURIComponent(f+e),encodeURIComponent(t)].join("="))});else if(l=new FormData,n.each(r,function(e,t){l.append(f+e,t),u.push([encodeURIComponent(f+e),encodeURIComponent(t)].join("="))}),"blob"==a.getOpt("chunkFormat"))l.append(f+a.getOpt("fileParameterName"),s,a.fileObj.fileName);else if("base64"==a.getOpt("chunkFormat")){var c=new FileReader;c.onload=function(e){l.append(f+a.getOpt("fileParameterName"),c.result),a.xhr.send(l)},c.readAsDataURL(s)}var p=n.getTarget("upload",u),d=a.getOpt("uploadMethod");a.xhr.open(d,p),"octet"===a.getOpt("method")&&a.xhr.setRequestHeader("Content-Type","application/octet-stream"),a.xhr.timeout=a.getOpt("xhrTimeout"),a.xhr.withCredentials=a.getOpt("withCredentials");var h=a.getOpt("headers");"function"==typeof h&&(h=h(a.fileObj,a)),n.each(h,function(e,t){a.xhr.setRequestHeader(e,t)}),"blob"==a.getOpt("chunkFormat")&&a.xhr.send(l)}else a.test()},a.abort=function(){a.xhr&&a.xhr.abort(),a.xhr=null},a.status=function(){return a.pendingRetry?"uploading":a.xhr?a.xhr.readyState<4?"uploading":200==a.xhr.status||201==a.xhr.status?"success":n.contains(a.getOpt("permanentErrors"),a.xhr.status)||a.retries>=a.getOpt("maxChunkRetries")?"error":(a.abort(),"pending"):"pending"},a.message=function(){return a.xhr?a.xhr.responseText:""},a.progress=function(e){void 0===e&&(e=!1);var t=e?(a.endByte-a.startByte)/a.fileObjSize:1;if(a.pendingRetry)return 0;switch(a.xhr&&a.xhr.status||(t*=.95),a.status()){case"success":case"error":return 1*t;case"pending":return 0*t;default:return a.loaded/(a.endByte-a.startByte)*t}},this}return t.uploadNextChunk=function(){var e=!1,r=!1;if(n.each(t.files,function(e){if(e.chunks.length&&"uploading"==e.chunks[0].status()&&2!==e.chunks[0].preprocessState)return r=!0,!1}),r)return console.log("Waiting for the first chunk to reach the server..."),!0;if(n.each(t.files,function(t){if(t.chunks.length&&"pending"==t.chunks[0].status()&&0===t.chunks[0].preprocessState)return t.chunks[0].send(),e=!0,!1}),e)return!0;if(n.each(t.files,function(t){var r=t.chunks.length,i=t.successfulChunks();if(t.isComplete()||!1!==t.isPaused()||n.each(t.chunks,function(t){t.offset+1==r&&i!=r-1||"pending"==t.status()&&0===t.preprocessState&&(t.send(),e=!0)}),e)return!1}),e)return!0;var i=!1;return n.each(t.files,function(e){if(!e.isComplete())return i=!0,!1}),i||t.fire("complete"),!1},t.assignBrowse=function(e,r){void 0===e.length&&(e=[e]),n.each(e,function(e){var n;"INPUT"===e.tagName&&"file"===e.type?n=e:((n=document.createElement("input")).setAttribute("type","file"),n.style.display="none",e.addEventListener("click",function(){n.style.opacity=0,n.style.display="block",n.focus(),n.click(),n.style.display="none"},!1),e.appendChild(n));var i=t.getOpt("maxFiles");void 0===i||1!=i?n.setAttribute("multiple","multiple"):n.removeAttribute("multiple"),r?n.setAttribute("webkitdirectory","webkitdirectory"):n.removeAttribute("webkitdirectory"),n.addEventListener("change",function(e){u(e.target.files,e),t.getOpt("clearInput")&&(e.target.value="")},!1)})},t.assignDrop=function(e){void 0===e.length&&(e=[e]),n.each(e,function(e){e.addEventListener("dragover",a,!1),e.addEventListener("dragenter",a,!1),e.addEventListener("drop",i,!1)})},t.unAssignDrop=function(e){void 0===e.length&&(e=[e]),n.each(e,function(e){e.removeEventListener("dragover",a),e.removeEventListener("dragenter",a),e.removeEventListener("drop",i)})},t.isUploading=function(){var e=!1;return n.each(t.files,function(t){if(t.isUploading())return e=!0,!1}),e},t.upload=function(){if(!t.isUploading()){t.fire("uploadStart");for(var e=1;e<=t.getOpt("simultaneousUploads");e++)t.uploadNextChunk()}},t.pause=function(){n.each(t.files,function(e){e.abort()}),t.fire("pause")},t.cancel=function(){t.fire("beforeCancel");for(var e=t.files.length-1;e>=0;e--)t.files[e].cancel();t.fire("cancel")},t.progress=function(){var e=0,r=0;return n.each(t.files,function(t){e+=t.progress()*t.size,r+=t.size}),r>0?e/r:0},t.addFile=function(e,t){u([e],t)},t.removeFile=function(e){for(var r=t.files.length-1;r>=0;r--)t.files[r]===e&&t.files.splice(r,1)},t.getFromUniqueIdentifier=function(e){var r=!1;return n.each(t.files,function(t){t.uniqueIdentifier==e&&(r=t)}),r},t.getSize=function(){var e=0;return n.each(t.files,function(t){e+=t.size}),e},t.handleDropEvent=function(e){i(e)},t.handleChangeEvent=function(e){u(e.target.files,e),e.target.value=""},t.updateQuery=function(e){t.opts.query=e},this}},function(e,t){window.YotpoVideoUploader.Event={on:function(e,t){this.callbacks=this.callbacks||{},this.callbacks[e]=this.callbacks[e]||[],this.callbacks[e].push(t)},trigger:function(e,t,r){for(var n=0;n<this.callbacks[e].length;n++)this.callbacks[e][n].call(this,t,r)}}}]);